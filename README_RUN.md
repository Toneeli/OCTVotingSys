# ğŸ—³ï¸ ç¤¾åŒºæŠ•ç¥¨ç³»ç»Ÿ - è¿è¡ŒæŒ‡å—

## å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd backend
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm start    # æˆ– npm run dev (ä½¿ç”¨ nodemon å®æ—¶ç›‘å¬)
```
åç«¯å°†è¿è¡Œåœ¨: **http://localhost:3001**

### 2. å¯åŠ¨å‰ç«¯åº”ç”¨
```bash
cd frontend
npm install --legacy-peer-deps  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm start
```
å‰ç«¯å°†è¿è¡Œåœ¨: **http://localhost:3000**

## ç³»ç»Ÿç‰¹æ€§

### å·²å®ç°åŠŸèƒ½ âœ…

#### åç«¯åŠŸèƒ½
- âœ… ä¸šä¸»è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•ï¼‰
- âœ… JWT Token è®¤è¯ï¼ˆ24å°æ—¶è¿‡æœŸï¼‰
- âœ… æŠ•ç¥¨è®®é¢˜ç®¡ç†
- âœ… æŠ•ç¥¨åŠŸèƒ½
- âœ… æŠ•ç¥¨ç»Ÿè®¡
- âœ… ä¸šä¸»å®¡æ ¸ç³»ç»Ÿï¼ˆç®¡ç†å‘˜ï¼‰
- âœ… **å»ºç­‘ç‰©ä¿¡æ¯**ï¼ˆä¸šä¸»æ³¨å†Œæ—¶å¿…é¡»é€‰æ‹©æ¥¼æ ‹ï¼Œå¦‚ T1æ ‹ã€T2æ ‹ï¼‰
- âœ… **æ¥¼æ ‹ç®¡ç†å‘˜è§’è‰²**ï¼ˆå¯ç®¡ç†ç‰¹å®šæ¥¼æ ‹çš„ä¸šä¸»ï¼‰
- âœ… **è§’è‰²æƒé™æ§åˆ¶**ï¼ˆè¶…çº§ç®¡ç†å‘˜ vs æ¥¼æ ‹ç®¡ç†å‘˜ï¼‰
- âœ… **æŠ•ç¥¨åæŸ¥çœ‹æŠ•ç¥¨è€…ä¿¡æ¯**ï¼ˆä¸šä¸»æŠ•ç¥¨åå¯æŸ¥çœ‹å…¶ä»–æŠ•ç¥¨è€…ï¼‰

#### å‰ç«¯åŠŸèƒ½
- âœ… é¦–é¡µæŠ•ç¥¨è®®é¢˜ç»Ÿè®¡
- âœ… æŠ•ç¥¨è¿›åº¦å±•ç¤º
- âœ… ç™»å½•/æ³¨å†ŒåŠŸèƒ½
- âœ… æŠ•ç¥¨ç•Œé¢
- âœ… ç®¡ç†å‘˜åå°é¢æ¿
- âœ… ä¸šä¸»å®¡æ ¸åˆ—è¡¨
- âœ… æŠ•ç¥¨ç»“æœæŸ¥çœ‹

## æµ‹è¯•è´¦æˆ·

### è¶…çº§ç®¡ç†å‘˜
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`
- **æ¥¼æ ‹**: T1æ ‹

### æ™®é€šä¸šä¸»
- **ç”¨æˆ·å**: `user`
- **å¯†ç **: `user123`
- **æ¥¼æ ‹**: T2æ ‹

### æ¥¼æ ‹ç®¡ç†å‘˜
- **ç”¨æˆ·å**: `buildingadmin`
- **å¯†ç **: `buildingadmin123`
- **æ¥¼æ ‹**: T2æ ‹ï¼ˆå¯ç®¡ç†è¯¥æ¥¼æ ‹çš„ä¸šä¸»ï¼‰

## API æ–‡æ¡£

è®¿é—®: **http://localhost:3001/api/docs**

### ä¸»è¦ API ç«¯ç‚¹

#### è®¤è¯ç›¸å…³
- `POST /api/auth/register` - ä¸šä¸»æ³¨å†Œï¼ˆéœ€è¦æ¥¼æ ‹ä¿¡æ¯ï¼‰
- `POST /api/auth/login` - ä¸šä¸»ç™»å½•

#### æŠ•ç¥¨ç›¸å…³
- `GET /api/topics` - è·å–æ‰€æœ‰æŠ•ç¥¨è®®é¢˜
- `GET /api/topics/:id` - è·å–å•ä¸ªè®®é¢˜è¯¦æƒ…
- `POST /api/votes` - æäº¤æŠ•ç¥¨
- `GET /api/votes/topic/:topic_id` - æŸ¥çœ‹æŠ•ç¥¨è€…ä¿¡æ¯ï¼ˆæŠ•ç¥¨åï¼‰
- `GET /api/stats/topic/:id` - è·å–æŠ•ç¥¨ç»Ÿè®¡

#### ç®¡ç†å‘˜ç›¸å…³
- `GET /api/admin/residents/pending` - è·å–å¾…å®¡æ ¸ä¸šä¸»
- `PATCH /api/admin/residents/:id/approve` - å®¡æ ¸ä¸šä¸»ï¼ˆæ‰¹å‡†/æ‹’ç»ï¼‰
- `POST /api/admin/building-admins` - æŒ‡å®šæ¥¼æ ‹ç®¡ç†å‘˜
- `GET /api/admin/building-admins` - è·å–æ¥¼æ ‹ç®¡ç†å‘˜åˆ—è¡¨
- `GET /api/admin/buildings` - è·å–æ‰€æœ‰æ¥¼æ ‹åˆ—è¡¨

## æ•°æ®åº“

ç³»ç»Ÿä½¿ç”¨ SQLite3 æ•°æ®åº“ï¼Œæ–‡ä»¶ä½ç½®ï¼š
- åç«¯: `backend/voting.db`

### ä¸»è¦æ•°æ®è¡¨
- `residents` - ä¸šä¸»ä¿¡æ¯ï¼ˆåŒ…å«æ¥¼æ ‹å’Œç®¡ç†å‘˜è§’è‰²ï¼‰
- `topics` - æŠ•ç¥¨è®®é¢˜
- `options` - æŠ•ç¥¨é€‰é¡¹
- `votes` - æŠ•ç¥¨è®°å½•
- `building_admins` - æ¥¼æ ‹ç®¡ç†å‘˜æŒ‡æ´¾

## é¡¹ç›®æ¶æ„

```
community-voting-system/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.js - Express æœåŠ¡å™¨å’Œæ‰€æœ‰ API ç«¯ç‚¹
â”‚   â”œâ”€â”€ init-test-data.js - æµ‹è¯•æ•°æ®åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ voting.db - SQLite æ•°æ®åº“
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/ - é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/ - å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.js - ä¸»åº”ç”¨
â”‚   â”‚   â””â”€â”€ index.js - å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ public/
â””â”€â”€ README_RUN.md - æœ¬æ–‡ä»¶
```

## æŠ€æœ¯æ ˆ

**åç«¯**
- Express.js 4.18.2
- SQLite3 5.1.6
- JWT è®¤è¯
- bcrypt å¯†ç å“ˆå¸Œ

**å‰ç«¯**
- React 18.2.0
- Ant Design 5.11.0
- React Router 6.17.0
- Axios HTTP å®¢æˆ·ç«¯

## æ•…éšœæ’é™¤

### å‰ç«¯å¯åŠ¨æŠ¥é”™ "Cannot find module 'ajv/dist/compile/codegen'"

è§£å†³æ–¹æ¡ˆï¼š
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
npm start
```

### åç«¯ Cannot GET / é”™è¯¯

å·²ä¿®å¤ âœ… - æ·»åŠ äº†æ ¹è·¯ç”±å’Œ API æ–‡æ¡£ç«¯ç‚¹

### æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥

æ¸…é™¤æ—§æ•°æ®åº“å¹¶é‡å¯ï¼š
```bash
cd backend
rm voting.db
npm start  # è‡ªåŠ¨åˆ›å»ºæ–°æ•°æ®åº“
```

## ä¸‹ä¸€æ­¥æ”¹è¿›æ–¹å‘

- [ ] å‰ç«¯"ä¸šä¸»"å’Œ"ç”¨æˆ·"æœ¯è¯­ç»Ÿä¸€
- [ ] å‰ç«¯æ³¨å†Œè¡¨å•æ·»åŠ æ¥¼æ ‹é€‰æ‹©
- [ ] å‰ç«¯ç®¡ç†å‘˜é¢æ¿æ·»åŠ æ¥¼æ ‹ç®¡ç†å‘˜åŠŸèƒ½
- [ ] å‰ç«¯æŠ•ç¥¨ç»“æœé¡µé¢æ˜¾ç¤ºæŠ•ç¥¨è€…åˆ—è¡¨
- [ ] é‚®ä»¶é€šçŸ¥åŠŸèƒ½
- [ ] æŠ•ç¥¨æˆªæ­¢æ—¶é—´åŠŸèƒ½
- [ ] æ‰¹é‡å¯¼å…¥ä¸šä¸»åŠŸèƒ½

---

**æ›´æ–°æ—¶é—´**: 2025å¹´11æœˆ30æ—¥
**ç³»ç»Ÿç‰ˆæœ¬**: 1.0.0
