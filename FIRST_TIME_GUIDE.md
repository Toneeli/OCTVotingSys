# 🎯 社区投票系统 - 首次使用指南

👋 欢迎使用社区投票系统！本指南将引导您快速开始。

---

## ⏱️ 预计时间

- **阅读本指南**: 3 分钟
- **启动系统**: 2 分钟
- **第一次投票体验**: 5 分钟
- **总计**: 10 分钟

---

## 🚀 3 步快速启动

### 步骤 1️⃣：打开终端，启动后端（60 秒）

```bash
# 进入后端目录
cd /Users/zen/Web3/community-voting-system/backend

# 启动后端服务
npm start
```

✅ 看到 `Backend running on http://localhost:3001` 说明成功！

### 步骤 2️⃣：打开新终端，启动前端（60 秒）

```bash
# 进入前端目录
cd /Users/zen/Web3/community-voting-system/frontend

# 启动前端应用
npm start
```

✅ 浏览器会自动打开 http://localhost:3000

### 步骤 3️⃣：使用系统（开始体验）

浏览器应该已经打开前端应用，现在您可以：

- 点击"登录"
- 使用测试账户登录
- 查看投票议题
- 参与投票

---

## 👥 测试账户

您可以使用以下账户立即开始：

### 管理员账户（最高权限）
```
用户名: admin
密码: admin123
```
**可以**: 查看所有投票、管理所有业主、设置楼栋管理员

### 普通业主（投票用户）
```
用户名: user
密码: user123
```
**可以**: 投票、查看投票结果、查看投票者信息

### 楼栋管理员（楼栋权限）
```
用户名: buildingadmin
密码: buildingadmin123
```
**可以**: 管理 T2 栋的业主、批准申请

---

## 🎮 功能快速体验

### 1️⃣ 用管理员账户体验管理功能（3 分钟）

```
1. 用 admin/admin123 登录
2. 点击"管理后台"
3. 查看"待审核业主"列表
4. 尝试"批准"或"拒绝"某个业主
```

### 2️⃣ 用普通账户体验投票（2 分钟）

```
1. 用 user/user123 登录
2. 回到首页
3. 选择一个投票议题（如"小区物业费调整方案"）
4. 点击进去，选择一个选项（同意/不同意/弃权）
5. 点击"投票"提交
6. 看到"投票成功"提示
7. 点击"查看投票业主信息"查看其他投票者
```

### 3️⃣ 用楼栋管理员体验楼栋权限（2 分钟）

```
1. 用 buildingadmin/buildingadmin123 登录
2. 点击"管理后台"
3. 查看"待审核业主"列表
   ➜ 注意：只看得到 T2 栋的业主！
   ➜ 看不到 T1 栋、T3 栋等其他楼栋的业主
4. 这就是楼栋管理员的权限限制
```

---

## 📊 首页介绍

打开 http://localhost:3000 后，您会看到：

```
┌─────────────────────────────────────┐
│      社区投票系统首页                │
├─────────────────────────────────────┤
│                                     │
│  📊 投票议题统计卡片                │
│  ┌─────────────────────────┐       │
│  │ 小区物业费调整方案      │       │
│  │ ████████░░░░ 80%       │       │
│  │ 已有 8 人投票          │       │
│  └─────────────────────────┘       │
│                                     │
│  🔐 登录/注册按钮（未登录时）      │
│                                     │
└─────────────────────────────────────┘
```

### 页面功能

- **投票议题卡片**: 显示所有投票议题
- **进度条**: 显示投票参与度
- **投票数**: 显示有多少人投票
- **登录按钮**: 点击进行登录或注册

---

## 🔐 登录界面

点击"登录"后，会出现登录表单：

```
┌──────────────────────────┐
│    业主登录              │
├──────────────────────────┤
│                          │
│ 用户名: [      ]         │
│                          │
│ 密码:   [      ]         │
│                          │
│ [  登录  ] [  返回  ]    │
│                          │
│ 还没有账户？ 点击注册    │
│                          │
└──────────────────────────┘
```

### 登录步骤

1. 输入用户名（如 `admin`）
2. 输入密码（如 `admin123`）
3. 点击"登录"
4. 等待页面加载，即可进入系统

---

## 📝 注册界面（可选）

如果您想创建新账户，可以：

1. 在登录页点击"点击注册"
2. 填写以下信息：
   - 用户名
   - 密码
   - 真实姓名
   - 楼栋（必须选择，如 T2栋）
   - 单元号
   - 电话号码
3. 点击"提交注册"
4. 等待管理员批准后才能投票

---

## 🗳️ 投票界面

登录后进入投票界面：

```
┌──────────────────────────────────┐
│  投票议题：小区物业费调整方案    │
├──────────────────────────────────┤
│                                  │
│ 描述: 是否同意将物业费从...      │
│                                  │
│ 选择您的投票:                    │
│                                  │
│ ○ 同意                           │
│ ○ 不同意                         │
│ ○ 弃权                           │
│                                  │
│  [ 投票 ]  [ 返回 ]              │
│                                  │
│ 统计结果:                        │
│ • 同意: 5 票                      │
│ • 不同意: 2 票                    │
│ • 弃权: 1 票                      │
│                                  │
└──────────────────────────────────┘
```

### 投票步骤

1. 阅读投票议题的描述
2. 选择您的投票选项（单选）
3. 点击"投票"提交
4. 看到"投票成功"提示
5. 点击"查看投票业主信息"查看其他投票者

---

## 👨‍💼 管理后台界面

使用管理员账户登录后，点击"管理后台"：

```
┌────────────────────────────────────┐
│    管理后台                        │
├────────────────────────────────────┤
│                                    │
│ 待审核业主列表:                    │
│                                    │
│ ┌──────────────────────────────┐   │
│ │ 用户名  │ 姓名   │ 楼栋 │ 单位  │
│ ├──────────────────────────────┤   │
│ │ newuser │ 张三   │ T2栋 │ 2-201 │
│ │         │ [批准] [拒绝]        │   │
│ └──────────────────────────────┘   │
│                                    │
│ ┌──────────────────────────────┐   │
│ │ user123 │ 李四   │ T3栋 │ 3-301 │
│ │         │ [批准] [拒绝]        │   │
│ └──────────────────────────────┘   │
│                                    │
└────────────────────────────────────┘
```

### 管理员功能

- **查看待审核业主**: 查看所有未批准的新注册业主
- **批准业主**: 点击"批准"后，业主就可以投票了
- **拒绝业主**: 点击"拒绝"后，业主被拒绝注册

---

## 🔍 常见问题

### Q: 我登录后什么都看不到？
**A**: 确保您使用的是"已批准"的账户。新注册的业主需要管理员批准才能使用。

### Q: 为什么不能投票？
**A**: 因为您的账户状态是"待审核"。请让管理员在管理后台批准您。

### Q: 投完票后怎么查看其他投票者？
**A**: 投票成功后，页面上会出现"查看投票业主信息"按钮，点击即可。

### Q: 怎样重置密码？
**A**: 目前系统不支持重置密码。如需重置，请请管理员在数据库中修改。

### Q: 能否改变投票选择？
**A**: 不能。每个业主每个议题只能投票一次。

---

## 🔌 API 调试（可选）

如果您想测试 API，可以：

### 方式 1：使用浏览器
访问 http://localhost:3001/api/docs 查看 API 文档

### 方式 2：使用 Postman
1. 下载并打开 Postman
2. 导入 `Postman_Collection.json` 文件
3. 选择 API 端点进行测试

### 方式 3：使用 curl
```bash
# 获取所有投票议题
curl http://localhost:3001/api/topics

# 用户登录
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "password": "admin123"
  }'
```

---

## 📚 更多信息

### 需要详细信息？
👉 查看 [QUICK_START.md](./QUICK_START.md)
- 更详细的启动说明
- 更多功能演示

### 需要完整文档？
👉 查看 [COMPLETE_DOCUMENTATION.md](./COMPLETE_DOCUMENTATION.md)
- 系统架构详解
- 所有 API 说明
- 数据库结构
- 故障排除

### 需要 API 参考？
👉 查看 [API_USAGE_GUIDE.md](./API_USAGE_GUIDE.md)
- 全部 API 端点
- 请求/响应示例
- 认证方式

---

## ✅ 快速检查清单

启动后，逐一检查以下项：

- [ ] 后端在 http://localhost:3001 运行
- [ ] 前端在 http://localhost:3000 运行
- [ ] 能用 admin/admin123 登录
- [ ] 能用 user/user123 登录
- [ ] 能看到投票议题列表
- [ ] 能点击议题查看详情
- [ ] 能投票
- [ ] 投票后能查看投票者信息
- [ ] 管理员能看到待审核业主
- [ ] 能批准或拒绝业主

---

## 🆘 遇到问题？

### 后端无法启动
```bash
# 清除旧数据库
cd backend
rm voting.db

# 重新启动
npm start
```

### 前端报错
```bash
# 清除依赖
cd frontend
rm -rf node_modules package-lock.json

# 重新安装
npm install --legacy-peer-deps

# 启动
npm start
```

### 更多帮助
👉 查看 [COMPLETE_DOCUMENTATION.md](./COMPLETE_DOCUMENTATION.md) 中的"故障排除"

---

## 🎉 下一步

现在您已经可以使用系统了！下一步建议：

1. ✅ 用不同的账户体验不同的功能
2. ✅ 创建新的投票议题（作为管理员）
3. ✅ 邀请他人注册并参与投票
4. ✅ 查看投票统计和结果
5. ✅ 根据需求定制系统

---

**祝您使用愉快！** 🚀

如有任何问题，请查看相关文档或检查浏览器控制台错误。

---

**更新时间**: 2025年11月30日  
**版本**: 1.0.0  
**状态**: ✅ 完成
